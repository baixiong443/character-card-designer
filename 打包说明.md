# 📦 打包说明 - 生成一键安装包

本项目支持打包成 **桌面应用**，用户下载后**双击即可使用**，无需安装 Node.js！

---

## 🎯 打包方式

### 1️⃣ 便携版（推荐）⭐

**特点**：解压即用，无需安装，适合小白用户

**打包命令**：
```bash
npm run dist:portable
```

**生成文件**：
```
dist/角色卡设计器-1.0.0-便携版.exe
```

**使用方法**：
1. 用户下载 `.exe` 文件
2. 双击运行
3. 等待3-5秒自动打开界面
4. 开始使用！

---

### 2️⃣ 安装版

**特点**：标准安装程序，有桌面快捷方式

**打包命令**：
```bash
npm run dist:win
```

**生成文件**：
```
dist/角色卡设计器-1.0.0-安装包.exe
dist/角色卡设计器-1.0.0-便携版.exe
```

**使用方法**：
1. 用户下载安装包
2. 运行安装向导
3. 安装完成后，双击桌面图标即可使用

---

## 📋 完整打包流程

### 第一步：准备环境

确保已安装所有依赖：
```bash
npm install
```

### 第二步：执行打包

**Windows 便携版**（推荐）：
```bash
npm run dist:portable
```

**完整打包**（安装版+便携版）：
```bash
npm run dist:win
```

### 第三步：测试

打包完成后，在 `dist/` 文件夹中找到生成的文件：

- `角色卡设计器-1.0.0-便携版.exe` - 免安装版
- `角色卡设计器-1.0.0-安装包.exe` - 安装程序

双击运行测试！

---

## 📤 发布流程

### 方案A：GitHub Releases（推荐）

1. 打包完成后，在 GitHub 创建新的 Release
2. 上传生成的 `.exe` 文件
3. 在 Release 说明中添加：

```markdown
## 📥 下载方式

### 🚀 便携版（推荐）
适合不想安装的用户，下载后直接双击运行

**下载链接**：[角色卡设计器-1.0.0-便携版.exe](链接)

**使用方法**：
1. 下载 `.exe` 文件
2. 双击运行
3. 等待3-5秒，自动打开界面
4. 开始使用！

### 💾 安装版
适合喜欢标准安装的用户

**下载链接**：[角色卡设计器-1.0.0-安装包.exe](链接)

**使用方法**：
1. 下载安装包
2. 运行安装向导
3. 安装完成后双击桌面图标

---

## ⚙️ 配置 AI

首次运行时需要配置 AI：
1. 点击右上角 ⚙️ 设置
2. 填入 API 密钥和端点
3. 测试连接成功后即可使用
```

### 方案B：百度网盘/阿里云盘

将打包好的文件上传到网盘，分享链接给用户下载

### 方案C：自建下载服务器

将文件上传到自己的服务器，提供直接下载链接

---

## 🛠️ 高级选项

### 自定义打包配置

编辑 `package.json` 中的 `build` 部分：

```json
"build": {
  "productName": "角色卡设计器",  // 应用名称
  "appId": "com.psyche.character-card-designer",
  "directories": {
    "output": "dist"  // 输出目录
  },
  "win": {
    "icon": "public/icon-512.png"  // 应用图标
  }
}
```

### 修改版本号

编辑 `package.json`：
```json
{
  "version": "1.0.0"  // 修改这里
}
```

---

## 📊 打包文件大小

- **便携版**：约 200-300 MB
- **安装包**：约 150-250 MB

**为什么这么大？**
- 包含了完整的 Node.js 运行时
- 包含了所有依赖库
- 这样用户才能"双击即用"，无需安装任何环境

---

## ❓ 常见问题

### Q: 打包失败怎么办？

**A**: 
1. 确保已安装所有依赖：`npm install`
2. 检查 Node.js 版本：`node -v`（需要 18.0+）
3. 清理缓存后重试：`rm -rf node_modules && npm install`

### Q: 如何减小打包体积？

**A**: 
编辑 `package.json` 的 `build.files` 部分，排除不需要的文件

### Q: 能打包成 macOS/Linux 版本吗？

**A**: 
可以！修改打包命令：
```bash
npm run dist  # 自动检测系统打包
```

或指定平台：
```bash
electron-builder --mac
electron-builder --linux
```

---

## 🎉 完成！

打包完成后，你就有了一个**开箱即用**的桌面应用！

用户只需：
1. 下载 `.exe`
2. 双击运行
3. 配置 AI
4. 开始创作！

**就这么简单！** 🚀


